<div class="flex w-full min-h-screen justify-center items-center">

  <form
    class="absolute flex flex-col gap-3  justify-center items-center origin-top transition-all duration-700"
    [class]="isRegister ? 'scale-y-0 opacity-0':'scale-y-100 opacity-100'"
    (ngSubmit)="submit()"
    [formGroup]="userForm">
    <h1 class="mb-0 text-4xl font-semibold">Zaloguj się</h1>
    <span class="py-2 min-h-10"
          [class]="authMessage.isError ? 'text-red-500':'text-green-500'">{{ authMessage.message }}</span>
    <fieldset class="flex flex-col gap-2 w-[90%] md:w-[15rem]">
      <label for="name">Nazwa użytkownika</label>
      <input type="text" name="name" id="name" formControlName="name"
             class="border rounded-md border-black h-10 p-2 outline-none"/>
    </fieldset>
    <span>{{ userForm.errors }}</span>
    <fieldset class="flex flex-col gap-2  w-[90%] md:w-[15rem]">
      <label for="password">Hasło</label>
      <input type="password" id="password" name="password" class="border rounded-md border-black h-10 p-2 outline-none"
             formControlName="password"/>
    </fieldset>
    <button type="submit" class="p-2 border border-black rounded-md mt-6 w-[90%] md:w-[15rem]"
            [class]="(isSubmitting$ | async) || userForm.invalid ? 'opacity-40':''"
            [disabled]="(isSubmitting$ | async) || userForm.invalid">
      Zaloguj
    </button>
    <p>
      Nie masz konta? <span class="cursor-pointer underline" (click)="toggleForms()">Zarejestruj się</span>
    </p>
  </form>
  <form
    class="absolute flex flex-col gap-3  justify-center items-center origin-bottom transition-all duration-700"
    [class]="isRegister ? 'scale-y-100 opacity-100':'scale-y-0 opacity-0'"
    (ngSubmit)="register()"
    [formGroup]="registerForm">
    <h1 class="mb-0 text-4xl font-semibold">Zarejestruj się</h1>
    <span class="py-2 min-h-10"
          [class]="authMessage.isError ? 'text-red-500':'text-green-500'">{{ authMessage.message }}</span>
    <fieldset class="flex flex-col gap-2 w-[90%] md:w-[15rem]">
      <label for="name">Nazwa użytkownika</label>
      <input type="text" name="name" id="name" formControlName="name"
             class="border rounded-md border-black h-10 p-2 outline-none"/>
    </fieldset>

    <fieldset class="flex flex-col gap-2  w-[90%] md:w-[15rem]">
      <label for="email">E-mail</label>
      <input type="email" id="email" name="email" class="border rounded-md border-black h-10 p-2 outline-none"
             formControlName="email"/>
    </fieldset>
    <fieldset class="flex flex-col gap-2  w-[90%] md:w-[15rem]">
      <label for="password">Hasło</label>
      <input type="password" id="password" name="password" class="border rounded-md border-black h-10 p-2 outline-none"
             formControlName="password"/>
    </fieldset>
    <button type="submit" class="p-2 border border-black rounded-md mt-6 w-[90%] md:w-[15rem]"
            [class]="(isSubmitting$ | async) || registerForm.invalid ? 'opacity-40':''"
            [disabled]="(isSubmitting$ | async) || registerForm.invalid">
      Zarejestruj
    </button>
    <p>
      Masz już konto? <span class="cursor-pointer underline" (click)="toggleForms()">Zaloguj się</span>
    </p>
  </form>
</div>

